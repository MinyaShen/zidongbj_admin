<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="apple-mobile-web-app-capable" content="yes">	
		<meta name="format-detection" content="telephone=no">	
		<title>通知通告</title>
		<!-- 引入css -->
		<link rel="stylesheet" type="text/css" href="../static/layui/css/layui.css" />
		<link rel="stylesheet" type="text/css" href="../static/css/public.css" />
		<link rel="stylesheet" type="text/css" href="../static/css/form.css" />
	</head>
	<body>
		<div class="alarm-wrapper">
			<h3 class="alarm-page-title">通知公告</h3>
			<div class="alarm-content">
				<h5 class="module-title">
					<span class="alarm-module-title-left">发布新通知</span>
				</h5>
				<div class="form-wrapper">
					<div class="alarm-form-toolbar">
						<div class="btns-list">
							<button type="button" class="layui-btn alarm-btn-size alarm-btn-success">返回</button>
							<button type="button" class="layui-btn alarm-btn-size alarm-btn-success">修改</button>
						</div>
					</div>
					<form class="layui-form" action="">
						<div class="layui-form-item">
							<label class="layui-form-label">通知标题</label>
							<div class="layui-input-block">
								<input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="请输入通知标题" class="layui-input">
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">内容描述</label>
							<div class="layui-input-block">
								<textarea name="desc" placeholder="请输入内容描述" class="layui-textarea"></textarea>
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">通知类型</label>
							<div class="layui-input-block">
								<select name="type">
									<option value="">请选择通知的的类型</option>
									<option value="0">催缴通知</option>
									<option value="1">温馨提示</option>
									<option value="2">常见问题</option>
								</select>
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">通告单位</label>
							<div class="layui-input-block">
								<select name="city">
									<option value="">请选择通告的单位</option>
									<option value="0">全部</option>
									<option value="1">银行</option>
									<option value="2">珠宝店</option>
								</select>
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">通知有效期</label>
							<div class="layui-input-inline">
								<input type="text" class="layui-input" id="dateSelete" placeholder="请选择 -">
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">照片附件</label>
							<div class="layui-input-block alarm-upload-block">
								<div class="show-img-box">
									<img src="">
								</div>
								<button type="button" class="layui-btn alarm-upload-btn" id="upload-file">
								  <i class="layui-icon">&#xe624;</i>
								</button>
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">是否紧急</label>
							<div class="layui-input-block">
								<input type="checkbox" checked name="on" lay-skin="switch" lay-filter="isUrgent">
							</div>
						</div>
						<div class="layui-form-item">
							<label class="layui-form-label">是否置顶</label>
							<div class="layui-input-block">
								<input type="checkbox" checked name="close" lay-skin="switch" lay-filter="isTop">
							</div>
						</div>
						<div class="layui-form-item alarm-form-btns">
							<div class="layui-input-block">
								<button class="layui-btn alarm-btn-success alarm-btn-size alarm-btn-search" lay-submit lay-filter="formSubmit">发布</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
		
		<script src="../static/layui/layui.js"></script>
		<script>
			layui.use(['form', 'upload', 'laydate'], function(){
				var form = layui.form
				var upload = layui.upload
				var laydate = layui.laydate
			  
				// 上传
				var uploadInst = upload.render({
					elem: '#upload-file' //绑定元素
					,url: '/upload/' //上传接口
					,done: function(res){
						//上传完毕回调
					}
					,error: function(){
						//请求异常回调
					}
				});
				
				// 日期选择
				laydate.render({
					elem: '#dateSelete'
					,type: 'datetime'
					,range: true
				});
				
				// 验证规则
				form.verify({
					title: function(value){
						if(value.length < 5){
							return '标题至少得5个字符啊';
						}
					}
				});
				
				//监听指定开关
				form.on('switch(isUrgent)', function(data){
					
				});
				form.on('switch(isTop)', function(data){
					
				});
				
				// 表单
				form.on('submit(formDemo)', function(data){
					layer.msg(JSON.stringify(data.field));
					return false;
				});
			  
			});
		</script>
	</body>
</html>
